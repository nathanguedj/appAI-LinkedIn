<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>G√©n√©rateur JSON Vid√©o "Effet Pop" Polyvalent (Kling AI)</title>
<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
    max-width: 600px;
    margin: auto;
    background: #f9f9f9;
    box-sizing: border-box;
  }
  .logo-container {
    text-align: center;
    margin-bottom: 20px;
  }
  .responsive-logo {
    max-width: 80%;
    height: auto;
    max-height: 100px;
    width: auto;
    display: inline-block;
  }
  h1 {
    text-align: center;
    color: #333;
    font-size: 1.8rem;
    margin-bottom: 1rem;
  }
  #dropzone {
    border: 2px dashed #ccc;
    padding: 3rem 1rem;
    text-align: center;
    cursor: pointer;
    margin-bottom: 1.5rem;
    background: white;
    border-radius: 8px;
    transition: background-color 0.3s ease, border-color 0.3s ease;
    word-wrap: break-word;
  }
  #dropzone.hover {
    border-color: #333;
    background: #f0f0f0;
  }
  label {
    font-weight: 600;
    display: block;
    margin-bottom: 5px;
    color: #444;
    margin-top: 10px;
  }
  #descInput {
    width: 100%;
    padding: 10px;
    font-size: 1rem;
    border: 1px solid #ccc;
    border-radius: 6px;
    margin-bottom: 10px;
    box-sizing: border-box;
  }
  .buttons-container {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 10px;
  }
  button {
    background-color: #0073e6;
    color: white;
    border: none;
    padding: 0.75rem 1.2rem;
    cursor: pointer;
    font-size: 1rem;
    margin-top: 1rem;
    border-radius: 6px;
    width: 100%;
    max-width: 250px;
    transition: background-color 0.2s ease;
  }
  button:hover {
    background-color: #005bb5;
  }
  #jsonPrompt {
    background: #f4f4f4;
    border: 1px solid #ccc;
    padding: 1rem;
    border-radius: 8px;
    margin-top: 1rem;
    font-size: 0.98rem;
    font-family: 'Fira Mono', 'Consolas', monospace;
    white-space: pre-wrap;
    overflow-x: auto;
    max-width: 100%;
    word-break: break-all;
  }
  .guide {
    background: #eef7ff;
    border-left: 4px solid #0073e6;
    padding: 15px 20px;
    margin-top: 2rem;
    font-size: 0.9rem;
    color: #004a99;
    border-radius: 6px;
    line-height: 1.4;
  }
  @media (min-width: 600px) {
    button {
      font-size: 1.1rem;
      max-width: 180px;
    }
    .buttons-container {
      justify-content: flex-start;
    }
  }
  @media (max-width: 400px) {
    .responsive-logo {
      max-width: 95%;
      max-height: 80px;
    }
    #dropzone {
      padding: 2rem 0.5rem;
      font-size: 0.9rem;
    }
    h1 {
      font-size: 1.5rem;
    }
    .guide {
      font-size: 0.85rem;
      padding: 12px 15px;
    }
    #jsonPrompt {
      font-size: 0.88rem;
      padding: 8px;
    }
  }
</style>
</head>
<body>
<div class="logo-container">
  <img src="https://cdn.prod.website-files.com/62148d3ac62180149120a39c/624030bf8b99c52ab8a0f792_Test%20Utopia%20Studio.png" alt="Logo Utopia Studio" class="responsive-logo">
</div>

<h1>G√©n√©rateur de Prompt Vid√©o ‚Äì Effet "Pop" Polyvalent (JSON Kling AI)</h1>

<div id="dropzone">D√©posez ici la photo de votre produit ou cliquez pour choisir</div>
<input type="file" id="fileInput" accept="image/*" style="display:none" />

<label for="descInput">D√©crivez votre produit (ex‚ÄØ: "bouteille m√©tallique rouge mat, bouchon dor√©") :</label>
<input type="text" id="descInput" placeholder="D√©crivez le produit principal √† mettre au centre‚Ä¶" />

<div class="buttons-container">
  <button id="generatePrompt" disabled>G√©n√©rer le prompt JSON</button>
  <button id="copyPrompt" disabled>Copier le JSON</button>
</div>

<pre id="jsonPrompt">{
  "version": "v1",
  "aspect_ratio": "4:5",
  "duration": 7,
  "scenes": [
    {
      "description": "",
      "visual_style": "",
      "camera": {},
      "lighting": {},
      "animation": {},
      "environment": {},
      "product": {},
      "audio": {}
    }
  ]
}</pre>

<div class="guide">
  <strong>Tutoriel : G√©n√©rer une vid√©o avec Kling AI (gratuit)</strong>
  <ol>
    <li>
      <b>Cr√©er un compte :</b> Inscrivez-vous gratuitement sur <a href="https://klingai.com" target="_blank">klingai.com</a>. Kling AI offre actuellement 4 g√©n√©rations de vid√©os gratuites.
    </li>
    <li>
      <b>Ouvrez l'onglet "Image to Video" :</b> Apr√®s connexion, cliquez sur <b>Image to Video</b> dans le menu.
    </li>
    <li>
      <b>D√©posez votre image :</b> Importez la photo de votre produit utilis√©e ici.
    </li>
    <li>
      <b>Copiez le champ <code>"description"</code> du JSON g√©n√©r√© :</b> Collez-le dans le champ ‚ÄúPrompt‚Äù ou ‚ÄúDescription‚Äù sur Kling AI. Inspirez-vous des autres champs pour ajuster si besoin.
    </li>
    <li>
      <b>Lancez la g√©n√©ration :</b> Cliquez pour lancer la vid√©o et patientez quelques minutes.
    </li>
    <li>
      <b>T√©l√©chargez le rendu :</b> Votre vid√©o format 4:5 HD est pr√™te √† partager !
    </li>
  </ol>
  <div style="margin-top:10px;color:#ba3d00;">
    <strong>Astuce :</strong> Pour un r√©sultat optimal, faites une description pr√©cise du produit, de ses couleurs et de ses d√©tails visuels.
  </div>
</div>

<div class="guide" style="margin-top:30px;">
  <strong>üõ† Autres IA compatibles (photo ‚ûî vid√©o, texte ‚ûî vid√©o, etc.)</strong>
  <ul>
    <li><b>Photo to Video :</b>
      <ul>
        <li><b>Runway Gen-3</b>, <b>Pika Labs</b>, <b>Kaiber</b>, <b>PixVerse</b>, <b>Haiper</b>, <b>Deevid</b>‚Ä¶</li>
      </ul>
    </li>
    <li><b>Text to Video :</b>
      <ul>
        <li><b>Sora (OpenAI)</b>, <b>Genmo</b>, <b>Luma Dream Machine</b>, <b>Runway Gen-3</b>‚Ä¶</li>
      </ul>
    </li>
  </ul>
</div>

<script>
const dropzone = document.getElementById('dropzone');
const fileInput = document.getElementById('fileInput');
const generateBtn = document.getElementById('generatePrompt');
const copyBtn = document.getElementById('copyPrompt');
const descInput = document.getElementById('descInput');
const jsonPrompt = document.getElementById('jsonPrompt');

let uploadedImage = null;

// Dropzone logic
dropzone.addEventListener('click', () => fileInput.click());

dropzone.addEventListener('dragover', e => {
  e.preventDefault();
  dropzone.classList.add('hover');
});
dropzone.addEventListener('dragleave', () => dropzone.classList.remove('hover'));
dropzone.addEventListener('drop', e => {
  e.preventDefault();
  dropzone.classList.remove('hover');
  const files = e.dataTransfer.files;
  if (files.length > 0) handleFile(files[0]);
});

fileInput.addEventListener('change', () => {
  if (fileInput.files.length > 0) handleFile(fileInput.files[0]);
});

function handleFile(file) {
  if (!file.type.startsWith('image/')) {
    alert('Merci de d√©poser un fichier image valide.');
    return;
  }
  uploadedImage = file;
  dropzone.textContent = `Image s√©lectionn√©e : ${file.name}`;
  generateBtn.disabled = !descInput.value.trim();
  setJsonDefault();
  copyBtn.disabled = true;
}

// Activation bouton si texte rempli
descInput.addEventListener('input', () => {
  generateBtn.disabled = !descInput.value.trim() || !uploadedImage;
});

// G√©n√©ration du JSON dynamique, √©pur√© de tout √©l√©ment sp√©cifique valise
function generateKlingPromptObjectFR(description) {
  return {
    "version": "v1",
    "aspect_ratio": "4:5",
    "duration": 7,
    "scenes": [
      {
        "description": `A stylized product stands perfectly centered on a pure white background. It appears very small in the middle of the frame, then rapidly pops to its real size with a fun, elegant scale-up animation and a light 'ding' sound. The object remains vertically aligned and gently levitates, slowly rotating around its axis. A soft, diffused light sweeps across the surface left to right, creating luxury reflections and highlighting the key material and finish. The scene is hyper-realistic and modern, without any decor or distraction. Custom product details: ${description}`,
        "visual_style": "hyper-realistic, ultra-clean, modern, elegant",
        "camera": {
          "angle": "frontal",
          "movement": "static",
          "position": "centered"
        },
        "lighting": {
          "type": "soft diffused",
          "motion": "left to right",
          "effect": "luxury sweep reflection"
        },
        "animation": {
          "entry": {
            "type": "scale-up pop",
            "from_scale": 0.1,
            "to_scale": 1,
            "timing": "0.3s",
            "easing": "ease-out-back",
            "sound": "ding"
          },
          "levitation": {
            "enabled": true,
            "movement": "subtle vertical float",
            "amplitude": "small",
            "speed": "slow"
          },
          "rotation": {
            "axis": "Y",
            "range": 10,
            "speed": "slow"
          }
        },
        "environment": {
          "background": "pure white",
          "ground_reflection": "none"
        },
        "product": {
          "description": description
        },
        "audio": {
          "effects": ["ding"],
          "music": "none"
        }
      }
    ]
  };
}

function setJsonDefault() {
  jsonPrompt.textContent = `{
  "version": "v1",
  "aspect_ratio": "4:5",
  "duration": 7,
  "scenes": [
    {
      "description": "",
      "visual_style": "",
      "camera": {},
      "lighting": {},
      "animation": {},
      "environment": {},
      "product": {},
      "audio": {}
    }
  ]
}`;
}

generateBtn.addEventListener('click', () => {
  const desc = descInput.value.trim();
  if (!uploadedImage) {
    alert('Merci de d√©poser une photo de votre produit.');
    return;
  }
  if (!desc) {
    alert("Merci de d√©crire votre produit !");
    return;
  }
  const jsonObj = generateKlingPromptObjectFR(desc);
  jsonPrompt.textContent = JSON.stringify(jsonObj, null, 2);
  copyBtn.disabled = false;
});

copyBtn.addEventListener('click', () => {
  if (!jsonPrompt.textContent) return;
  if (window.getSelection) {
    const range = document.createRange();
    range.selectNodeContents(jsonPrompt);
    const sel = window.getSelection();
    sel.removeAllRanges();
    sel.addRange(range);
  }
  document.execCommand('copy');
  window.getSelection().removeAllRanges();
  alert('JSON copi√© dans le presse-papiers !');
});
</script>
</body>
</html>
